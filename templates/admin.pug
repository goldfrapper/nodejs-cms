doctype html
html
  head
    title NodeJS-CMS Admin
    include head.pug
  body
    div(class="container")
      div(class="header")
        h1
          img(src="/resources/favicon.png" height="32px" width="32px") 
          b(class="text-capitalize")=page.title
          small(class="text-muted")  NodeJS-CMS

      nav(class="navbar navbar-expand-lg")
        div(class="container-fluid")
          //- a(class="navbar-brand" href="/admin") Admin
          div(class="collapse navbar-collapse")
            ul(class="navbar-nav")
              each title in admin.nav
                - var _class = 'nav-link';
                - _class += (page.title==title)? ' active' : '';
                - link = '/admin/'+title
                li(class="nav-item")
                  a(class=_class href=link)=title
          span(class="navbar-text")
            a(href='/' target='_blank') Visit the website


      mixin settings-form()
        form(method="POST" action="/admin/settings")
          each s in settings
            div(class="mb-3")
              - h = s.key+'Help';
              label(for=s.key class="form-label")=s.name
              input(type="text" class="form-control" 
                name=s.key
                value=s.value id=s.key aria-describedby=h)
              div(id=h class="form-text")=s.note

          div(class="mb-3")
            button(type="submit" class="btn btn-primary") Submit
            
      mixin page-form()
        form(method="POST" action="/admin/content")
          
      
      mixin content-list()
        ul

      block maincontent
        
      if page.title == 'settings'
        +settings-form()
      
      if page.title == 'content'
        +page-list()
        +content-form()
      
        

      include footer.pug
